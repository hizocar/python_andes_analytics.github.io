<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>program</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="..//images/logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/logo.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-aboutme" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">AboutMe</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-aboutme">    
        <li class="dropdown-header">AboutMe</li>
        <li>
    <a class="dropdown-item" href="../personal/perfil.html" rel="" target="">
 <span class="dropdown-text">Activities and information about me</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../personal/academica.html" rel="" target="">
 <span class="dropdown-text">Academic Experience</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../personal/laboral.html" rel="" target="">
 <span class="dropdown-text">Data Experience</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-courses" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Courses</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-courses">    
        <li>
    <a class="dropdown-item" href="../machine_learning_egei/classes.html" rel="" target="">
 <span class="dropdown-text">Machine Learning with Business Application UTFSM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../introduction_to_python/classes.html" rel="" target="">
 <span class="dropdown-text">Introduction to Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../data_science_ingemat/classes.html" rel="" target="">
 <span class="dropdown-text">Data Science for Math Engineers USACH</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto tools-wide">
    <a href="https://github.com/hizocar" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#machine-learning-business-applications" id="toc-machine-learning-business-applications" class="nav-link active" data-scroll-target="#machine-learning-business-applications">Machine Learning – Business Applications</a>
  <ul class="collapse">
  <li><a href="#course-syllabus" id="toc-course-syllabus" class="nav-link" data-scroll-target="#course-syllabus">Course syllabus</a>
  <ul class="collapse">
  <li><a href="#learning-outcomes-and-competences" id="toc-learning-outcomes-and-competences" class="nav-link" data-scroll-target="#learning-outcomes-and-competences">Learning outcomes and competences:</a></li>
  <li><a href="#organisation-learning-methods" id="toc-organisation-learning-methods" class="nav-link" data-scroll-target="#organisation-learning-methods">Organisation / learning methods:</a></li>
  </ul></li>
  <li><a href="#course-contents" id="toc-course-contents" class="nav-link" data-scroll-target="#course-contents">Course contents:</a>
  <ul class="collapse">
  <li><a href="#a.-data" id="toc-a.-data" class="nav-link" data-scroll-target="#a.-data">A. Data</a></li>
  <li><a href="#b.-what-is-machine-learning" id="toc-b.-what-is-machine-learning" class="nav-link" data-scroll-target="#b.-what-is-machine-learning">B. What is Machine Learning?</a></li>
  <li><a href="#c.-classification" id="toc-c.-classification" class="nav-link" data-scroll-target="#c.-classification">C. Classification</a></li>
  <li><a href="#d.-trees-and-forests" id="toc-d.-trees-and-forests" class="nav-link" data-scroll-target="#d.-trees-and-forests">D. Trees and Forests</a></li>
  <li><a href="#e.-selection" id="toc-e.-selection" class="nav-link" data-scroll-target="#e.-selection">E. Selection</a></li>
  <li><a href="#f.-unlabeled-data" id="toc-f.-unlabeled-data" class="nav-link" data-scroll-target="#f.-unlabeled-data">F. Unlabeled Data</a></li>
  <li><a href="#g.-introduction-to-neural-networks" id="toc-g.-introduction-to-neural-networks" class="nav-link" data-scroll-target="#g.-introduction-to-neural-networks">G. Introduction to Neural Networks</a></li>
  </ul></li>
  <li><a href="#readings-literature" id="toc-readings-literature" class="nav-link" data-scroll-target="#readings-literature">Readings / literature:</a>
  <ul class="collapse">
  <li><a href="#a.-readings" id="toc-a.-readings" class="nav-link" data-scroll-target="#a.-readings">A. Readings</a></li>
  <li><a href="#b.-readings" id="toc-b.-readings" class="nav-link" data-scroll-target="#b.-readings">B. Readings</a></li>
  <li><a href="#e.-readings" id="toc-e.-readings" class="nav-link" data-scroll-target="#e.-readings">E. Readings</a></li>
  <li><a href="#c.-readings" id="toc-c.-readings" class="nav-link" data-scroll-target="#c.-readings">C. Readings</a></li>
  <li><a href="#d.-readings" id="toc-d.-readings" class="nav-link" data-scroll-target="#d.-readings">D. Readings</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="machine-learning-business-applications" class="level1">
<h1>Machine Learning – Business Applications</h1>
<section id="course-syllabus" class="level2">
<h2 class="anchored" data-anchor-id="course-syllabus">Course syllabus</h2>
<p><strong>Course title:</strong> Machine Learning – Business Applications<br>
<strong>ECTS:</strong> 5<br>
<strong>Semester:</strong> 4<br>
<strong>Location:</strong> Universidad Técnica Federico Santa María (Chile)<br>
<strong>Compulsory course:</strong> YES – Track GEME - Globalisation and Emerging Market Economies<br>
<strong>Lecturer &amp; Contact:</strong> Sebastián Azócar M. Master’s in Data Science<br>
<strong>Email:</strong> <a href="mailto:hizocar@gmail.com">hizocar@gmail.com</a><br>
<strong>Prerequisites:</strong> Applied Econometrics I and II</p>
<section id="learning-outcomes-and-competences" class="level3">
<h3 class="anchored" data-anchor-id="learning-outcomes-and-competences">Learning outcomes and competences:</h3>
<p>The general objective of the course is that students acquire the knowledge and practice necessary to Machine learning (ML). This is a branch of computer science that uses algorithms to mimic the way humans learn. In this course, we will analyze the different techniques and statistical methods used in ML to make predictions with Business Applications.</p>
</section>
<section id="organisation-learning-methods" class="level3">
<h3 class="anchored" data-anchor-id="organisation-learning-methods">Organisation / learning methods:</h3>
<p>The methodology of the course is focused on learning by doing, so the individual work of each student is key (a study load of at least 3 hours per week is assumed), and each student is required to read the required material before each class.</p>
</section>
</section>
<section id="course-contents" class="level2">
<h2 class="anchored" data-anchor-id="course-contents">Course contents:</h2>
<section id="a.-data" class="level3">
<h3 class="anchored" data-anchor-id="a.-data">A. Data</h3>
<ul>
<li><strong>A. Data and Decision Making</strong>
<ul>
<li>Different Types of Data</li>
<li>Data manipulation</li>
</ul></li>
</ul>
</section>
<section id="b.-what-is-machine-learning" class="level3">
<h3 class="anchored" data-anchor-id="b.-what-is-machine-learning">B. What is Machine Learning?</h3>
<ul>
<li><strong>B.1 Machine Learning Models</strong>
<ul>
<li>What is a ML Model?</li>
<li>Fitting a Model</li>
<li>KNN</li>
<li>Polynomial Regression</li>
<li>Overfitting and Underfitting: Bias versus Variance</li>
<li>The Cost Function</li>
<li>The Training Error</li>
<li>The Test Error</li>
</ul></li>
<li><strong>B.2 The Machine Learning Pipeline</strong>
<ul>
<li>The Bias-Variance Trade-Off</li>
<li>Cross-Validation</li>
<li>Applying the machine learning pipeline</li>
</ul></li>
</ul>
</section>
<section id="c.-classification" class="level3">
<h3 class="anchored" data-anchor-id="c.-classification">C. Classification</h3>
<ul>
<li><strong>C.1 Logistic Regression</strong>
<ul>
<li>What is classification?</li>
<li>Technique and Methodology</li>
<li>Measuring the Model Performance</li>
<li>The ROC Curve</li>
</ul></li>
<li><strong>C.2 Generative Models</strong>
<ul>
<li>Basic Concepts</li>
<li>The Naïve Bayesian Classifier</li>
<li>Text Classification</li>
<li>NLP Application: Measuring Text Sentiment</li>
</ul></li>
</ul>
</section>
<section id="d.-trees-and-forests" class="level3">
<h3 class="anchored" data-anchor-id="d.-trees-and-forests">D. Trees and Forests</h3>
<ul>
<li><strong>D.1 Tree based Methods</strong>
<ul>
<li>Structure of decision trees</li>
<li>Types of tree-based methods</li>
<li>Loss functions</li>
<li>Tree pruning</li>
<li>Regression Trees</li>
<li>Classification Trees</li>
</ul></li>
<li><strong>D.2 Ensemble Methods</strong>
<ul>
<li>Basic Concepts</li>
<li>Techniques and Methodology</li>
<li>Bagging</li>
<li>Random Forests</li>
<li>Boosting</li>
</ul></li>
</ul>
</section>
<section id="e.-selection" class="level3">
<h3 class="anchored" data-anchor-id="e.-selection">E. Selection</h3>
<ul>
<li><strong>E.1 Variable Selection</strong>
<ul>
<li>Applications to Variable Selections</li>
<li>Techniques and Methodology</li>
<li>Best subset selection</li>
<li>Stepwise, Backward and Forward Selection</li>
</ul></li>
<li><strong>E.2 Shrinkage Methods</strong>
<ul>
<li>Shrinkage versus Selection</li>
<li>LASSO Regression</li>
<li>RIDGE Regression</li>
<li>Elastic Net Regression</li>
</ul></li>
</ul>
</section>
<section id="f.-unlabeled-data" class="level3">
<h3 class="anchored" data-anchor-id="f.-unlabeled-data">F. Unlabeled Data</h3>
<ul>
<li><strong>F.1 Dimension Reduction</strong>
<ul>
<li>Unlabeled data</li>
<li>Principal Components</li>
<li>Application of PCA</li>
</ul></li>
<li><strong>F.2 Clustering</strong>
<ul>
<li>k-means clustering</li>
<li>Hierarchical clustering</li>
<li>Advantages and Limitations</li>
<li>Practical Application</li>
</ul></li>
</ul>
</section>
<section id="g.-introduction-to-neural-networks" class="level3">
<h3 class="anchored" data-anchor-id="g.-introduction-to-neural-networks">G. Introduction to Neural Networks</h3>
<ul>
<li><strong>G.1 Neural Networks</strong>
<ul>
<li>Basic concepts</li>
<li>Artificial neural networks (ANNs)</li>
<li>The simple perceptron</li>
<li>Structure of the ANN</li>
<li>Methods</li>
</ul></li>
<li><strong>G.2 Neural Networks Implementation</strong>
<ul>
<li>Introduction</li>
<li>Advantages and Limitations</li>
<li>Training the Model</li>
<li>Model Optimization</li>
</ul></li>
</ul>
</section>
</section>
<section id="readings-literature" class="level2">
<h2 class="anchored" data-anchor-id="readings-literature">Readings / literature:</h2>
<section id="a.-readings" class="level3">
<h3 class="anchored" data-anchor-id="a.-readings">A. Readings</h3>
<ol type="1">
<li><a href="http://users.csc.calpoly.edu/~dsun09/data401/readings/Breiman-Two-Cultures.pdf">Breiman, L. (2001). Statistical modeling: The two cultures (with comments and a rejoinder by the author). Statistical science, 16(3), 199-231.</a></li>
<li><a href="https://www.wired.co.uk/article/netflix-data-personalisation-watching">Burgess, M. (2018). This is how Netflix’s secret recommendation system works. Wired.</a></li>
<li><a href="https://towardsdatascience.com/10-machine-learning-methods-that-every-data-scientist-should-know-3cc96e0eeee9">Castañón, J. (10). Machine Learning Methods that Every Data Scientist Should Know, 2019.</a></li>
<li><a href="https://towardsdatascience.com/introduction-to-machine-learning-for-beginners-eed6024fdb08">Pant, A. (2019). Introduction to Machine Learning for Beginners. Preuzeto, 19, 2021.</a></li>
<li><a href="https://towardsdatascience.com/data-types-from-a-machine-learning-perspective-with-examples-111ac679e8bc">Zhang (2018). Data Types From A Machine Learning Perspective With Examples.</a></li>
</ol>
</section>
<section id="b.-readings" class="level3">
<h3 class="anchored" data-anchor-id="b.-readings">B. Readings</h3>
<ol type="1">
<li><a href="https://towardsdatascience.com/polynomial-regression-bbe8b9d97491">Agarwal, A. (2018). Polynomial Regression</a></li>
<li><a href="https://towardsdatascience.com/overfitting-vs-underfitting-a-complete-example-d05dd7e19765">Koehrsen, W. (2018). Overfitting vs.&nbsp;Underfitting: A Complete Example</a></li>
<li><a href="https://towardsdatascience.com/cross-validation-in-machine-learning-72924a69872f">Gupta, P. (2017). Cross-Validation in Machine Learning</a></li>
</ol>
</section>
<section id="e.-readings" class="level3">
<h3 class="anchored" data-anchor-id="e.-readings">E. Readings</h3>
<ol type="1">
<li>ISLR sections 6.1 (Subset selection), 6.2 (Shrinkage methods)</li>
<li><a href="https://online.stat.psu.edu/stat508/lesson/4">Lesson 4: Variable Selection</a></li>
<li><a href="https://online.stat.psu.edu/stat508/lesson/5">Lesson 5: Shrinkage Methods</a></li>
<li><a href="https://hackernoon.com/an-introduction-to-ridge-lasso-and-elastic-net-regression-cca60b4b934f">Deol, G. (2019)</a></li>
</ol>
</section>
<section id="c.-readings" class="level3">
<h3 class="anchored" data-anchor-id="c.-readings">C. Readings</h3>
<ol type="1">
<li>ISLR sections 4.1, 4.2, 4.3, 4.6.2</li>
<li><a href="https://online.stat.psu.edu/stat508/lesson/9/9.1">Lesson 9.1: Logistic Regression</a></li>
<li><a href="https://towardsdatascience.com/machine-learning-classifiers-a5cc4e1b0623">Asiri, S.(2018)</a></li>
</ol>
</section>
<section id="d.-readings" class="level3">
<h3 class="anchored" data-anchor-id="d.-readings">D. Readings</h3>
<ol type="1">
<li>ISLR Chapter 8</li>
<li><a href="https://online.stat.psu.edu/stat508/lesson/11">Lesson 11: Tree-based Methods</a></li>
<li>[Analytics Vidha (2016). Tree Based Algorithms: A Complete Tutorial from Scratch (in R &amp; Python)](https://www.analyticsvidhya.com/blog/2016/04/tree-based-algorithms-complete-tutorial-s</li>
</ol>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>